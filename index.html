<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angel-åè¦‹è¦ºå¯Ÿ</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            --bg-main: #FDFCF8;
            --text-dark: #37474F;
            --accent-kids: #FFD8CC;
            --accent-primary: #E2F0CB;
            --accent-teen: #C5E1A5;
            --accent-adult: #B0BEC5;
            --white: #FFFFFF;
        }

        body {
            font-family: -apple-system, "Noto Sans TC", sans-serif;
            background-color: var(--bg-main);
            color: var(--text-dark);
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            transition: background-color 0.5s;
        }

        .container { width: 100%; max-width: 450px; padding: 25px; display: flex; flex-direction: column; }
        h1 { font-weight: 600; font-size: 1.5rem; text-align: center; margin-top: 40px; }
        .slogan { text-align: center; color: #888; font-size: 0.9rem; margin-bottom: 30px; }

        /* ä½¿ç”¨èªªæ˜é èˆ‡èªéŒ„ */
        .intro-box { background: var(--white); padding: 25px; border-radius: 20px; line-height: 1.8; box-shadow: 0 4px 15px rgba(0,0,0,0.03); margin-bottom: 20px; }
        .quote-box { font-style: italic; color: #666; text-align: center; margin: 20px 0; min-height: 3rem; font-size: 0.95rem; }

        /* é¸å–®æŒ‰éˆ• */
        .menu-grid { display: grid; gap: 15px; }
        .btn { padding: 22px; border: none; border-radius: 16px; font-size: 1.1rem; font-weight: 500; cursor: pointer; transition: 0.2s; text-align: left; display: flex; justify-content: space-between; align-items: center; }
        .btn:active { transform: scale(0.98); }
        .btn-kids { background-color: var(--accent-kids); }
        .btn-primary { background-color: var(--accent-primary); }
        .btn-teen { background-color: var(--accent-teen); }
        .btn-adult { background-color: var(--accent-adult); color: white; }

        /* å…§å®¹èˆ‡å‘¼å¸ç·´ç¿’ */
        #content-page { display: none; text-align: center; animation: fadeIn 0.6s; }
        .card { background: white; padding: 30px; border-radius: 24px; box-shadow: 0 15px 35px rgba(0,0,0,0.05); }
        .step-text { font-size: 1.2rem; margin-bottom: 20px; line-height: 1.6; display: none; }
        .step-text.active { display: block; animation: fadeIn 0.5s; }
        
        /* å‘¼å¸åœ“åœˆ */
        .breath-circle {
            width: 80px; height: 80px; background: var(--accent-adult); border-radius: 50%;
            margin: 30px auto; opacity: 0.4;
            animation: breathing 4s ease-in-out infinite;
        }
        @keyframes breathing { 0%, 100% { transform: scale(1); opacity: 0.2; } 50% { transform: scale(1.6); opacity: 0.5; } }

        /* å¿ƒéˆç•™ç™½ */
        #reflection-area { display: none; margin-top: 20px; }
        .input-blank { width: 100%; border: none; border-bottom: 1px solid #ccc; background: transparent; text-align: center; padding: 10px; font-size: 1.1rem; outline: none; margin-bottom: 20px; }
        
        .nav-link { margin-top: 30px; color: #999; cursor: pointer; text-decoration: underline; font-size: 0.9rem; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <div id="intro-page">
        <h1>Angel-åè¦‹è¦ºå¯Ÿ</h1>
        <p class="slogan">æŠŠå¿ƒç«™ç©©ï¼Œæ´»å¾—è‡ªåœ¨</p>
        <div id="quote-display" class="quote-box"></div>
        <div class="intro-box">
            é€™æ˜¯ä¸€å€‹å°ˆé–€ç‚ºã€Œæƒ…ç·’è¡çªã€ç•¶ä¸‹è¨­è¨ˆçš„ 30 ç§’ç©©å®šç·´ç¿’ã€‚è«‹æŒ‰ç…§å°å¼•ï¼Œå®‰éœåœ°å®Œæˆå‹•ä½œï¼Œæ„Ÿå—å¿ƒå¢ƒçš„è½‰è®Šã€‚
        </div>
        <button class="btn btn-adult" style="width:100%; text-align:center;" onclick="initHome()">é–‹å§‹ç·´ç¿’</button>
    </div>

    <div id="main-menu" style="display:none;">
        <h1>é¸æ“‡å°è±¡</h1>
        <p class="slogan">é¸æ“‡ç•¶ä¸‹æœ€é©åˆçš„åˆ‡å…¥é»</p>
        <div class="menu-grid">
            <button class="btn btn-kids" onclick="showContent('kids')">å­¸å‰ï½ä½å¹´ç´š <span>ğŸ‘¶</span></button>
            <button class="btn btn-primary" onclick="showContent('primary')">åœ‹å°ä¸­é«˜å¹´ç´š <span>ğŸ’</span></button>
            <button class="btn btn-teen" onclick="showContent('teen')">é’å°‘å¹´ <span>ğŸ§</span></button>
            <button class="btn btn-adult" onclick="showContent('adult')">æˆäººç‰ˆ <span>ğŸŒ¿</span></button>
        </div>
    </div>

    <div id="content-page">
        <div class="breath-circle"></div>
        <div class="card" id="card-content"></div>
        <div id="reflection-area">
            <p style="color:#888;">ç·´ç¿’çµæŸã€‚å¦‚æœæœ‰æƒ³å°è‡ªå·±èªªçš„è©±ï¼Œè«‹å¯«åœ¨é€™è£¡ï¼ˆä¸å„²å­˜ï¼‰ï¼š</p>
            <input type="text" class="input-blank" placeholder="æ­¤åˆ»çš„å¿ƒæƒ…æ˜¯ï¼Ÿ">
            <button class="btn btn-adult" style="width:100%; text-align:center;" onclick="goHome()">ç·´ç¿’å®Œæˆ</button>
        </div>
        <p id="next-step-btn" class="nav-link" onclick="nextStep()">é»æ“Šç•«é¢é€²å…¥ä¸‹ä¸€æ­¥</p>
    </div>
</div>

<script>
    const quotes = [
        "ã€Œçœ‹è¦‹åè¦‹ï¼Œå°±æ˜¯æº«æŸ”çš„é–‹å§‹ã€‚ã€",
        "ã€Œä½ ä¸éœ€è¦ç«‹åˆ»å®Œç¾ï¼Œåªéœ€è¦æ­¤åˆ»ç©©å®šã€‚ã€",
        "ã€Œå‘¼å¸åœ¨å“ªè£¡ï¼Œå¿ƒå°±åœ¨å“ªè£¡ã€‚ã€",
        "ã€Œæš«åœä¸€ä¸‹ï¼Œæ˜¯ç‚ºäº†èµ°æ›´é çš„è·¯ã€‚ã€"
    ];

    const config = {
        kids: { steps: ["é–‰ä¸Šçœ¼ï¼Œæ„Ÿå—ç¾åœ¨å¿ƒè£¡çš„é¡è‰²ã€‚", "æƒ³åƒé‚£æ˜¯ä¸€å€‹å½©è‰²çš„æ³¡æ³¡ã€‚", "è¼•è¼•å¹ä¸€å£æ°£ï¼Œè®“æ³¡æ³¡é£„èµ°ã€‚"] },
        primary: { steps: ["å‰›æ‰çš„äº‹ï¼Œæ˜¯äº‹å¯¦é‚„æ˜¯æ„Ÿè¦ºï¼Ÿ", "æŠŠå°æ–¹çš„è‡‰æ›æˆä¸€é¡†é¦¬éˆ´è–¯ã€‚", "é‡æ–°è½ä¸€æ¬¡ï¼Œæ„Ÿè¦ºæœ‰ä»€éº¼ä¸åŒï¼Ÿ"] },
        teen: { steps: ["æš«åœ 10 ç§’ï¼Œæ„Ÿè¦ºè…³æŒè¸©åœ¨åœ°æ¿ä¸Šã€‚", "å•è‡ªå·±ï¼šé€™æ˜¯æˆ‘ä»¥ç‚ºçš„ï¼Œé‚„æ˜¯çœŸçš„ï¼Ÿ", "é¸æ“‡ä¸€å€‹æ›´æœ‰åŠ›é‡çš„è¦–è§’ã€‚"] },
        adult: { steps: ["æ¨™è¨»é€™ä»½æƒ…ç·’ï¼šå®ƒæ˜¯å±¬æ–¼ç•¶ä¸‹çš„å—ï¼Ÿ", "è¦ºå¯Ÿï¼šæˆ‘æ­£åœ¨è¢«å“ªç¨®åˆ»æ¿å°è±¡é©…ä½¿ï¼Ÿ", "ç©©ä½ï¼šæˆ‘çœ‹è¦‹äº†åè¦‹ï¼Œä½†æˆ‘é¸æ“‡æº«å’Œã€‚"] }
    };

    let currentStep = 0;
    let currentData = [];

    function initHome() {
        document.getElementById('quote-display').innerText = quotes[Math.floor(Math.random() * quotes.length)];
        showPage('main-menu');
    }

    function showPage(pageId) {
        document.body.style.backgroundColor = (pageId === 'content-page') ? '#ECEFF1' : '#FDFCF8';
        ['intro-page', 'main-menu', 'content-page'].forEach(id => {
            document.getElementById(id).style.display = (id === pageId) ? 'block' : 'none';
        });
    }

    function showContent(id) {
        currentData = config[id].steps;
        currentStep = 0;
        document.getElementById('reflection-area').style.display = 'none';
        document.getElementById('next-step-btn').style.display = 'block';
        updateStep();
        showPage('content-page');
    }

    function updateStep() {
        const card = document.getElementById('card-content');
        card.innerHTML = `<p class="step-text active">${currentData[currentStep]}</p>`;
    }

    function nextStep() {
        if (currentStep < currentData.length - 1) {
            currentStep++;
            updateStep();
        } else {
            document.getElementById('card-content').innerHTML = "<h2>ç·´ç¿’å·²é”æˆ</h2>";
            document.getElementById('next-step-btn').style.display = 'none';
            document.getElementById('reflection-area').style.display = 'block';
        }
    }

    function goHome() { showPage('intro-page'); }

    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js'); });
    }
</script>
</body>
</html>
